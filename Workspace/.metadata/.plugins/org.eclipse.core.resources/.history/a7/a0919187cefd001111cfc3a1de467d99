mongoose = require('mongoose')
Schema = mongoose.Schema
ObjectId = Schema.ObjectId

###
Schema representing the relationship betwee an individual user 
@note
  MongoDB Collection
    db.user.products
@note
  MongoDB Indexes
    db.user.products.ensureIndex({ user: 1, product: 1 }, { unique: true })
    
@author Nathan Klick
@copyright QRef 2012
@abstract
###
class UserProductSchemaInternal 
	###
	@property [ObjectId] The id of the user owning this product.
	@see UserSchemaInternal
	###
	user: 
		type: ObjectId
		required: true
		ref: 'users'
	###
	@property [ObjectId] The id of the product which the user owns.
	@see ProductSchemaInternal
	###
	product:
		type: ObjectId
		required: true
		ref: 'products'
	
	
UserProductSchema = new Schema(new UserProductSchemaInternal())
UserProductSchema.index({ user: 1, product: 1 }, { unique: true })
module.exports = UserProductSchema
	