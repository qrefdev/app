mongoose = require('mongoose')
Schema = mongoose.Schema
ObjectId = Schema.ObjectId

ProductSchemaInternal = 
	name:
		type: String
		required: true
	description: 
		type: String
		required: false
		default: null
	isPublished:
		type: Boolean
		required: true
		default: false
	appleProductIdentifier:
		type: String
		required: false
	androidProductIdentifier:
		type: String
		required: false
	isAppleEnabled:
		type: Boolean
		required: true
		default: false
	isAndroidEnabled:
		type: Boolean
		required: true
		default: false
	suggestedRetailPrice:
		type: Number
		required: true
		default: 0
		min: 0
		max: 100.00
	productCategory:
		type: String
		required: true
		enum: ['aviation', 'marine', 'navigation']
	productType:
		type: String
		required: true
		enum: ['checklist', 'manual', 'guide']
	aircraftChecklist:
		type: ObjectId
		ref: 'aircraft.checklists'
		required: false
		default: null
	isSampleProduct:
		type: Boolean
		required: true
		default: false
	serialNumber: 
		type: String
		required: false
		default: null
	manufacturer: 
		type: ObjectId
		ref: 'aircraft.manufacturers'
		required: true
	model: 
		type: ObjectId
		ref: 'aircraft.models'
		required: true
	modelYear: 
		type: String
		required: true
	coverImage:
		type: String
		required: false
	
	
ProductSchema = new Schema(ProductSchemaInternal)
ProductSchema.index({ manufacturer: 1, model: 1 })
ProductSchema.index({ manufacturer: 1, model: 1, modelYear: 1 })
ProductSchema.index({ name: 1 }, { unique: true })
module.exports = ProductSchema