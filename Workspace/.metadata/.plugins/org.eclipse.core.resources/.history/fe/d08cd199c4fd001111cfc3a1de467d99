###
The response object returned for all RPC requests. 
This response object supports returning a single object or other value as the result of an RPC operation.

@example Reporting a Failure
  response = new RpcResponse(null)
  response.failure('Some failure reason', 500)
	
@example Returning Data [Single Object]
  response = new RpcResponse(someObj)
  
@example Return Data [String Value]
  response = new RpcResponse(someString) 

@example Reset to Default
  response = new RpcResponse(someValue)
  response.reset()
	
@example Setting a non-fatal message
  response = new RpcResponse(someValue)
  response.setMessage(someMessage)
  
@author Nathan Klick
@copyright QRef 2012
###
class RpcResponse
	success: true
	mode: 'rpc'
	message: null
	errorCode: 0
	returnValue: null
	constructor: (returnValue) -> 
		@.reset()
		@returnValue = returnValue
	setMessage: (msg) -> @message = msg
	reset: () ->
		@message = null
		@success = true
		@returnValue = null
		@mode = 'rpc'
		@errorCode = 0
	failure: (reason, errorCode) -> 
		@success = false
		@errorCode = errorCode
		@message = reason
module.exports = RpcResponse